(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{168:function(e,t,i){"use strict";var s=i(8),a=i(2),n=i(54);t.a=class{constructor(e){Object(s.a)(this,"element",void 0),Object(s.a)(this,"container",void 0),Object(s.a)(this,"id",void 0),Object(s.a)(this,"isPlaying",void 0),Object(s.a)(this,"isReady",void 0),Object(s.a)(this,"queue",void 0),Object(s.a)(this,"player",void 0),Object(s.a)(this,"playPromise",void 0),this.element=e,this.container=Object(a.d)(".js-video-container",e),this.id=e.getAttribute("data-id")||"",this.isPlaying=!1,this.isReady=!1,this.queue=new Set,this.createPlayer(),this._observeElement(),e.dispatchEvent(new CustomEvent("videoloaded"))}play(){if(!this.isPlaying)return this.isReady?void(this.playPromise=Promise.resolve(this.playVideo())):(this.createPlayer(),void this._queueTask("play"))}async pause(){this.isPlaying&&(this.isReady&&void 0!==this.playPromise?(await this.playPromise,this.pauseVideo(),this.onStop()):this._queueTask("pause"))}onEnded(){this.onStop()}onPlay(){this.element.setAttribute("data-status","loaded playing"),this.isPlaying=!0}onStop(){this.element.setAttribute("data-status","loaded paused"),this.isPlaying=!1}watchResize(e,t){const i=t/e,s=()=>{const e=this.element.clientWidth;this.container.style.width=e+"px",this.container.style.height=e*i+"px"};s(),this.element.dispatchEvent(new CustomEvent("videosize")),window.dispatchEvent(new CustomEvent("resize")),window.addEventListener("resize",()=>s()),this.player.element.setAttribute("tabindex","-1")}flushQueue(){this.queue.forEach(e=>this[e]()),this.queue.clear()}_queueTask(e){this.queue.add(e)}_observeElement(){Object(n.a)(this.container,e=>{e?this.play():this.isReady&&this.pause()},{threshold:.25,rootMargin:"-50px"})}}},82:function(e,t,i){"use strict";i.r(t);var s=i(8),a=i(169),n=i(2),o=i(168);class h extends o.a{constructor(...e){super(...e),Object(s.a)(this,"firstBuffer",!0),Object(s.a)(this,"player",void 0)}createPlayer(){if(this.player)return;h._warmConnections();const e=this.container.getAttribute("data-url")||void 0;this.player=new a.a(this.container,{background:!0,byline:!1,color:"ffffff",id:+this.id,url:e,loop:!0,muted:!0,portrait:!1,title:!1}),this.player.on("ended",()=>this.onEnded()),this.player.on("loaded",()=>this._onReady()),this.player.on("pause",()=>this.pause()),this.player.on("play",()=>this.onPlay()),n.c.isIOS&&this.player.on("bufferend",()=>{this.firstBuffer&&(this.firstBuffer=!1,this.onPlay())})}playVideo(){this.player.play()}pauseVideo(){this.player.pause()}async _onReady(){this.isReady=!0;const[e,t]=await Promise.all([this.player.getVideoWidth(),this.player.getVideoHeight()]);this.watchResize(e,t),"requestIdleCallback"in window?requestIdleCallback(()=>this.flushQueue()):this.flushQueue()}static _warmConnections(){h.preconnected||(Object(n.a)("preconnect","https://player.vimeo.com"),Object(n.a)("preconnect","https://i.vimeocdn.com"),Object(n.a)("preconnect","https://f.vimeocdn.com"),Object(n.a)("preconnect","https://fresnel.vimeocdn.com"),h.preconnected=!0)}}Object(s.a)(h,"preconnected",void 0),t.default=h}}]);