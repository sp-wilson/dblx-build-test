{"version":3,"file":"carousel-pager.js","sources":["webpack:///./themes/mcg/assets/src/js/main/carousel/Pager.ts"],"sourcesContent":["// http://jongund.github.io/aria-examples/bootstrap-carousel/carousel-3.html\n// https://www.w3.org/WAI/tutorials/carousels/functionality/\n\nimport { getAll, attachEvent } from \"@/utils\";\n\nclass Pager {\n    activeItem: HTMLElement;\n    pageDots: HTMLElement[];\n\n    constructor(container: HTMLElement, carousel: any) {\n        this.pageDots = getAll(\"[data-slide]\", container);\n        this.activeItem = this.pageDots.find((el) => el.hasAttribute(\"aria-current\"))!;\n\n        this.bindClick(carousel);\n        carousel.on(\"change\", (slideIndex: number) => this.updateCurrentDot(slideIndex));\n    }\n\n    bindClick(carousel: any) {\n        this.pageDots.forEach((element) => {\n            attachEvent(\"click\", element, () => {\n                if (element === this.activeItem) return;\n                const slideIndex = element.getAttribute(\"data-slide\");\n                carousel.select(slideIndex);\n            });\n        });\n    }\n\n    updateCurrentDot(slideIndex: number) {\n        this.activeItem.removeAttribute(\"aria-current\");\n        this.activeItem = this.pageDots[slideIndex];\n        this.activeItem.setAttribute(\"aria-current\", \"step\");\n    }\n}\n\nexport default Pager;\n"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAIA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AACA;AA4BA;;;;A","sourceRoot":""}